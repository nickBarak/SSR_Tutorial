<head>
    <link
        href="https://unpkg.com/filepond/dist/filepond.css"
        rel="stylesheet"
    />
    <link
        href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css"
        rel="stylesheet"
    />
    <script
        defer
        src="https://unpkg.com/filepond-plugin-file-encode/dist/filepond-plugin-file-encode.js"
    ></script>
    <script
        defer
        src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"
    ></script>
    <script
        defer
        src="https://unpkg.com/filepond-plugin-image-resize/dist/filepond-plugin-image-resize.js"
    ></script>
    <script defer src="https://unpkg.com/filepond/dist/filepond.js"></script>
    <script defer src="/javascripts/fileUpload.js"></script>
</head>

<body>
    <div>
        <label>Title</label>
        <input type="text" name="title" value="<%= book.title %>" />
    </div>
    <div>
        <label>Author</label>
        <select name="author">
            <% authors.forEach(author => { %> <% if (author.id === book.author)
            { %>
            <option selected label="<%= author.name %>" value="<%= author.id %>"
                ><%= author.name %></option
            >
            <% } else { %>
            <option label="<%= author.name %>" value="<%= author.id %>"
                ><%= author.name %></option
            >
            <% } %> <% }) %>
        </select>
    </div>
    <div>
        <label>Publish Date</label>
        <input
            type="date"
            name="publishDate"
            value="<%= book.publishDate == null ? '' : book.publishDate.toISOString().split('T')[0] %>"
        />
    </div>
    <div>
        <label>Page Count</label>
        <input
            type="number"
            name="pageCount"
            min="1"
            value="<%= book.pageCount %>"
        />
    </div>
    <div>
        <label>Cover</label>
        <input type="file" name="cover" class="filepond" />
    </div>
    <div>
        <label>Description</label>
        <textarea name="description"><%= book.description %></textarea>
    </div>
</body>
